import{c as y,b as z,N as d,O as g,P as r,a7 as o,u as t,a1 as a,S as v,Z as P,U as R,V as q,Q as m,_ as C,Y as S,F as U}from"./framework-4112b4b4.js";import{N as u}from"./Button-3d064a15.js";import{N as w}from"./app-74835318.js";import{N as p}from"./Input-5215db0a.js";import{N as I}from"./Card-8431d917.js";import{N}from"./text-7a1fb3f6.js";import"./browser-1b3c7e9a.js";import"./resolve-slot-6658b9ef.js";import"./color-to-class-b0332f36.js";import"./Scrollbar-b6a755c0.js";import"./use-merged-state-11bbb36c.js";const f=l=>(R("data-v-69097093"),l=l(),q(),l),V=f(()=>m("h4",null,"client_id",-1)),B=f(()=>m("h4",null,"client_secret",-1)),$=f(()=>m("h4",null,"redirect_uri",-1)),Z=y({__name:"Request",setup(l){function h(){window.open("https://console.developers.google.com/","_blank")}const s={client_id:"202264815644.apps.googleusercontent.com",auth_uri:"https://accounts.google.com/o/oauth2/auth",token_uri:"https://oauth2.googleapis.com/token",auth_provider_x509_cert_url:"https://www.googleapis.com/oauth2/v1/certs",client_secret:"X4Z3ca8xfWDb1Voo-F9a7ZxJ",redirect_uri:"http://127.0.0.1:53682/"},_="https://alist.nn.ci/tool/google/callback",e=z({client_id:"",client_secret:"",redirect_uri:""});function k(){e.client_id=s.client_id,e.client_secret=s.client_secret,e.redirect_uri=s.redirect_uri}function x(){e.client_id="",e.client_secret="",e.redirect_uri=_}function b(){const i=new URL("https://accounts.google.com/o/oauth2/auth");i.searchParams.set("client_id",e.client_id),i.searchParams.set("response_type","code"),i.searchParams.set("redirect_uri",e.redirect_uri),i.searchParams.set("scope","openid profile https://www.googleapis.com/auth/drive https://www.googleapis.com/auth/photoslibrary"),i.searchParams.set("access_type","offline"),i.searchParams.set("prompt","consent"),i.searchParams.set("state",btoa(`${e.client_id}::${e.client_secret}::${e.redirect_uri}`)),window.open(i.toString(),"_blank")}return(i,c)=>(d(),g(t(w),{vertical:"",size:"large"},{default:r(()=>[o(t(w),{justify:"center"},{default:r(()=>[o(t(u),{size:"large",secondary:"",onClick:h},{default:r(()=>[a("Create client")]),_:1}),o(t(u),{size:"large",type:"primary",onClick:k},{default:r(()=>[a("Use RClone client")]),_:1}),o(t(u),{size:"large",type:"info",onClick:x},{default:r(()=>[a("Use own client")]),_:1})]),_:1}),V,o(t(p),{size:"large",value:e.client_id,"onUpdate:value":c[0]||(c[0]=n=>e.client_id=n)},null,8,["value"]),B,o(t(p),{size:"large",value:e.client_secret,"onUpdate:value":c[1]||(c[1]=n=>e.client_secret=n)},null,8,["value"]),$,o(t(p),{size:"large",value:e.redirect_uri,"onUpdate:value":c[2]||(c[2]=n=>e.redirect_uri=n)},null,8,["value"]),o(t(u),{size:"large",type:"primary",block:"",onClick:b},{default:r(()=>[a("Go get")]),_:1}),e.client_id===s.client_id?(d(),g(t(I),{key:0,title:"If you use rclone client"},{default:r(()=>[a(" Replace "),o(t(N),{code:""},{default:r(()=>[a(v(s.redirect_uri),1)]),_:1}),a(" with "),o(t(N),{code:""},{default:r(()=>[a(v(_))]),_:1}),a(" after oauth. ")]),_:1})):P("v-if",!0)]),_:1}))}});const D=C(Z,[["__scopeId","data-v-69097093"],["__file","Request.vue"]]),F=y({__name:"request.html",setup(l){return(h,s)=>{const _=U("NaiveClient");return d(),S("div",null,[o(_,null,{default:r(()=>[o(t(D))]),_:1})])}}}),A=C(F,[["__file","request.html.vue"]]);export{A as default};
