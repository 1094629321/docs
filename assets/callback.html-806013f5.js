import{c as g,r as S,u as e,M as r,N as l,O as n,$ as s,Q as c,P as a,ak as V,a5 as f,S as B,U as I,_ as P,X as G,G as T}from"./framework-1f2fdbd0.js";import{N as C}from"./Alert-e76ef4e3.js";import{Q as z,N as y}from"./app-3de1c7e7.js";import{N as K}from"./Input-6637cf53.js";import"./resolve-slot-c3add38f.js";import"./browser-6e6f2a67.js";import"./Scrollbar-6da66aaa.js";import"./use-merged-state-2bbf59b1.js";const i=o=>(B("data-v-f8161509"),o=o(),I(),o),M=i(()=>a("b",null,"client_id: ",-1)),O=i(()=>a("b",null,"client_secret: ",-1)),Q=i(()=>a("b",null,"redirect_uri: ",-1)),U=i(()=>a("b",null,"refresh_token:",-1)),X=g({__name:"Callback",setup(o){const m="iYCeC9g08h5vuP9UqvPHKKSVrKFXGa1v",v="jXiFMOPVPCWlO2M5CwWQzffpNPaGTRBG",_="https://alist.nn.ci/tool/baidu/callback",p=new URL(window.location.href),u=p.searchParams.get("code"),d=p.searchParams.get("error"),w=p.searchParams.get("error_description"),t=S();return u&&!d&&(async()=>{const k=await(await fetch(`https://api.nn.ci/alist/baidu/get_refresh_token?code=${u}`)).json();t.value=k})(),(x,k)=>!e(u)||e(d)?(r(),l(e(C),{key:0,title:e(d)||"Error",type:"error"},{default:n(()=>[s(c(e(w)),1)]),_:1},8,["title"])):(r(),l(e(y),{key:1,vertical:"",size:"large"},{default:n(()=>{var h,b,N;return[a("p",null,[M,s(c(m))]),a("p",null,[O,s(c(v))]),a("p",null,[Q,s(c(_))]),(h=t.value)!=null&&h.error||(b=t.value)!=null&&b.error_description?(r(),l(e(C),{key:0,title:(N=t.value)==null?void 0:N.error,type:"error"},{default:n(()=>[s(c(t.value.error_description),1)]),_:1},8,["title"])):V("v-if",!0),f(e(y),{vertical:""},{default:n(()=>[U,t.value?(r(),l(e(K),{key:1,type:"textarea",autosize:"",readonly:"",value:t.value.refresh_token},null,8,["value"])):(r(),l(e(z),{key:0}))]),_:1})]}),_:1}))}});const $=P(X,[["__scopeId","data-v-f8161509"],["__file","Callback.vue"]]),j=g({__name:"callback.html",setup(o){return(m,v)=>{const _=T("NaiveClient");return r(),G("div",null,[f(_,null,{default:n(()=>[f(e($))]),_:1})])}}}),Y=P(j,[["__file","callback.html.vue"]]);export{Y as default};
